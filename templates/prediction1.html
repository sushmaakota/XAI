<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Investa - Investment Website Template</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link href="/static/lib/animate/animate.min.css" rel="stylesheet">
    <link href="/static/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="/static/lib/lightbox/css/lightbox.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="/static/css/style.css" rel="stylesheet">
</head>

<body>

    <style>
        /* Add fade-in animation to the prediction box */
        .prediction-box {
            display: none;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        /* Display when prediction is available */
        .prediction-box.show {
            display: block;
            opacity: 1;
        }

        /* Rain Prediction Style */
        .prediction-rain {
            background-color: #f8d7da;
            color: #721c24;
            border-color: #f5c6cb;
            border-radius: 5px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }

        /* No Rain Prediction Style */
        .prediction-no-rain {
            background-color: #d4edda;
            color: #155724;
            border-color: #c3e6cb;
            border-radius: 5px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }

        .prediction-icon {
            font-size: 50px;
            margin-bottom: 10px;
        }
    </style>

    <!-- Topbar Start -->
    <div class="container-fluid topbar px-0 d-none d-lg-block">
        <div class="container px-0">
            <div class="row gx-0 align-items-center" style="height: 45px;"></div>
        </div>
    </div>
    <!-- Topbar End -->

    <!-- Navbar & Hero Start -->
    <div class="container-fluid sticky-top px-0">
        <div class="position-absolute bg-dark" style="left: 0; top: 0; width: 100%; height: 100%;"></div>
        <div class="container px-0">
            <nav class="navbar navbar-expand-lg navbar-dark bg-white py-3 px-4">
                <a href="index.html" class="navbar-brand p-0">
                    <h1 class="text-primary m-0">Rainfall Prediction</h1>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                    <span class="fa fa-bars"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav ms-auto py-0">
                 
                        <a href="{{url_for('prediction1')}}" class="nav-item nav-link active">Rainfall prediction</a>
                        <a href="{{url_for('index')}}" class="nav-item nav-link">Logout</a>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <!-- Navbar & Hero End -->

    
        <!-- Navbar & Hero End -->
        <div class="container my-5">
            <h2>Rainfall Prediction</h2>
            <form action="{{ url_for('prediction1') }}" method="POST">
                <!-- Location Dropdown -->
                <div class="form-group">
                    <label for="Location">Select Location</label>
                    <select class="form-control" id="Location" name="Location">
                        <option value="0">Adelaide</option>
                        <option value="1">Albany</option>
                        <option value="2">Albury</option>
                        <option value="3">AliceSprings</option>
                        <option value="4">BadgerysCreek</option>
                        <option value="5">Ballarat</option>
                        <option value="6">Bendigo</option>
                        <option value="7">Brisbane</option>
                        <option value="8">Cairns</option>
                        <option value="9">Canberra</option>
                        <option value="10">Cobar</option>
                        <option value="11">CoffsHarbour</option>
                        <option value="12">Dartmoor</option>
                        <option value="13">Darwin</option>
                        <option value="14">GoldCoast</option>
                        <option value="15">Hobart</option>
                        <option value="16">Katherine</option>
                        <option value="17">Launceston</option>
                        <option value="18">Melbourne</option>
                        <option value="19">MelbourneAirport</option>
                        <option value="20">Mildura</option>
                        <option value="21">Moree</option>
                        <option value="22">MountGambier</option>
                        <option value="23">MountGinini</option>
                        <option value="24">Newcastle</option>
                        <option value="25">Nhil</option>
                        <option value="26">NorahHead</option>
                        <option value="27">NorfolkIsland</option>
                        <option value="28">Nuriootpa</option>
                        <option value="29">PearceRAAF</option>
                        <option value="30">Penrith</option>
                        <option value="31">Perth</option>
                        <option value="32">PerthAirport</option>
                        <option value="33">Portland</option>
                        <option value="34">Richmond</option>
                        <option value="35">Sale</option>
                        <option value="36">SalmonGums</option>
                        <option value="37">Sydney</option>
                        <option value="38">SydneyAirport</option>
                        <option value="39">Townsville</option>
                        <option value="40">Tuggeranong</option>
                        <option value="41">Uluru</option>
                        <option value="42">WaggaWagga</option>
                        <option value="43">Walpole</option>
                        <option value="44">Watsonia</option>
                        <option value="45">Williamtown</option>
                        <option value="46">Witchcliffe</option>
                        <option value="47">Wollongong</option>
                        <option value="48">Woomera</option>
                    </select>
                </div>
            
                <!-- Other input fields for weather data -->
                <div class="form-group">
                    <label for="MinTemp">Min Temperature (째C)</label>
                    <input type="number" step="0.01" class="form-control" id="MinTemp" name="MinTemp" min="-10" max="50" required>
                </div>
                <div class="form-group">
                    <label for="MaxTemp">Max Temperature (째C)</label>
                    <input type="number" step="0.01" class="form-control" id="MaxTemp" name="MaxTemp" min="-10" max="50" required>
                </div>
                <div class="form-group">
                    <label for="Rainfall">Rainfall (mm)</label>
                    <input type="number" step="0.01" class="form-control" id="Rainfall" name="Rainfall" min="0" max="500" required>
                </div>
                <div class="form-group">
                    <label for="Evaporation">Evaporation (mm)</label>
                    <input type="number" step="0.01" class="form-control" id="Evaporation" name="Evaporation" min="0" max="20" required>
                </div>
                <div class="form-group">
                    <label for="Sunshine">Sunshine (hours)</label>
                    <input type="number" step="0.01" class="form-control" id="Sunshine" name="Sunshine" min="0" max="15" required>
                </div>
                <div class="form-group">
                    <label for="WindGustSpeed">Wind Gust Speed (km/h)</label>
                    <input type="number" step="0.01" class="form-control" id="WindGustSpeed" name="WindGustSpeed" min="0" max="120" required>
                </div>
                <div class="form-group">
                    <label for="WindSpeed9am">Wind Speed 9 AM (km/h)</label>
                    <input type="number" step="0.01" class="form-control" id="WindSpeed9am" name="WindSpeed9am" min="0" max="60" required>
                </div>
                <div class="form-group">
                    <label for="WindSpeed3pm">Wind Speed 3 PM (km/h)</label>
                    <input type="number" step="0.01" class="form-control" id="WindSpeed3pm" name="WindSpeed3pm" min="0" max="60" required>
                </div>
                <div class="form-group">
                    <label for="Humidity9am">Humidity 9 AM (%)</label>
                    <input type="number" step="0.01" class="form-control" id="Humidity9am" name="Humidity9am" min="0" max="100" required>
                </div>
                <div class="form-group">
                    <label for="Humidity3pm">Humidity 3 PM (%)</label>
                    <input type="number" step="0.01" class="form-control" id="Humidity3pm" name="Humidity3pm" min="0" max="100" required>
                </div>
                <div class="form-group">
                    <label for="Pressure9am">Pressure 9 AM (hPa)</label>
                    <input type="number" step="0.01" class="form-control" id="Pressure9am" name="Pressure9am" min="950" max="1050" required>
                </div>
                <div class="form-group">
                    <label for="Pressure3pm">Pressure 3 PM (hPa)</label>
                    <input type="number" step="0.01" class="form-control" id="Pressure3pm" name="Pressure3pm" min="950" max="1050" required>
                </div>
                <div class="form-group">
                    <label for="Cloud9am">Cloud 9 AM (oktas)</label>
                    <input type="number" step="0.01" class="form-control" id="Cloud9am" name="Cloud9am" min="0" max="8" required>
                </div>
                <div class="form-group">
                    <label for="Cloud3pm">Cloud 3 PM (oktas)</label>
                    <input type="number" step="0.01" class="form-control" id="Cloud3pm" name="Cloud3pm" min="0" max="8" required>
                </div>
                <div class="form-group">
                    <label for="Temp9am">Temperature 9 AM (째C)</label>
                    <input type="number" step="0.01" class="form-control" id="Temp9am" name="Temp9am" min="-10" max="40" required>
                </div>
                <div class="form-group">
                    <label for="Temp3pm">Temperature 3 PM (째C)</label>
                    <input type="number" step="0.01" class="form-control" id="Temp3pm" name="Temp3pm" min="-10" max="50" required>
                </div>
                <div class="form-group">
                    <label for="RISK_MM">RISK_MM (mm)</label>
                    <input type="number" step="0.01" class="form-control" id="RISK_MM" name="RISK_MM" min="0" max="500" required>
                </div>
                <button type="submit" class="btn btn-primary mt-3">Predict</button>
             
            </form>
                
            
            {% if prediction %}
                <div class="prediction-box show">
                    {% if prediction == "Rain (1)" %}
                        <div class="prediction-rain">
                            <div class="prediction-icon">
                                <i class="fas fa-cloud-showers-heavy"></i>
                            </div>

                            <h3>Prediction: Rain</h3>

                            <p>{{ suggestion }}</p>

                            <p>Prediction Probability: {{ probability }}</p><br>

                            <h1>LIME Explanation</h1><br>

                            <h2>Visual Explanation</h2>

                            <img src="{{ image_path }}" alt="LIME Explanation"><br><br>
                            
                            <h2>Detailed Explanation</h2><br>

                            <iframe src="{{ html_path }}" title="LIME Detailed Explanation" style="width: 1000px; height: 500px;"></iframe>
                        </div>

                    {% else %}
                        <div class="prediction-no-rain">
                            <div class="prediction-icon">
                                <i class="fas fa-sun"></i>
                            </div>

                            <h3>Prediction: No Rain</h3>

                            <p>{{ suggestion }}</p>

                            <p>Prediction Probability: {{ probability }}</p><br>

                            <h1>LIME Explanation</h1><br>

                            <h2>Visual Explanation</h2>

                            <img src="{{ image_path }}" alt="LIME Explanation"><br><br>
                            
                            <h2>Detailed Explanation</h2><br>

                            <iframe src="{{ html_path }}" title="LIME Detailed Explanation"></iframe>
                        </div>
                    {% endif %}

                </div>
            {% endif %}

        <!-- LIME Explanation -->
        {% if lime_image %}
            <h3>LIME Explanation:</h3>
            <img src="data:image/png;base64,{{ lime_image }}" alt="LIME Explanation">
        {% endif %}
        
        <!-- Probability Prediction Graph -->
        {% if prob_image %}
            <h3>Prediction Probability Graph:</h3>
            <img src="data:image/png;base64,{{ prob_image }}" alt="Prediction Probability">
        {% endif %}
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/lib/wow/wow.min.js"></script>
    <script src="/static/lib/easing/easing.min.js"></script>
    <script src="/static/lib/waypoints/waypoints.min.js"></script>
    <script src="/static/lib/counterup/counterup.min.js"></script>
    <script src="/static/lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="/static/lib/lightbox/js/lightbox.min.js"></script>

    <!-- Template Javascript -->
    <script src="/static/js/main.js"></script>
</body>

</html>